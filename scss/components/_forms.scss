/* Variables
-------------------------------------------------- */
$__border-color: $color__light-gray;
$__input__spacing-default: $size__spacing-default;

/* Forms: Inputs
-------------------------------------------------- */
input[type="text"],
input[type="email"],
input[type="url"],
input[type="password"],
input[type="search"],
input[type="number"],
input[type="tel"],
input[type="range"],
input[type="date"],
input[type="month"],
input[type="week"],
input[type="time"],
input[type="datetime"],
input[type="datetime-local"],
input[type="color"],
textarea,
select {
	appearance: none; // Removes awkward default styles on some inputs for iOS
	-webkit-appearance: none;
	-moz-appearance: none;
	text-indent: 0;
	text-overflow: '';
	border: $border__width-default solid $__border-color;
	border-radius: $radius__default;
	box-shadow: none;
	box-sizing: inherit; // Forced to replace inherit values of the normalize.css
	height: 4rem;
	padding: 0 $__input__spacing-default/2;
	width: 100%;
	font-size: $typography__size-4;
	font-weight: $typography__weight-light;
	color: $color__dark-gray;
	background-color: $color__light-gray;
	transition: border-color 0.2s ease-in;

	&:focus {
		transition: all 0.2s ease-in;
		border-color: darken($__border-color, 7%);
		background-color: #fff;
		outline: 0;
		color: $color__dark-gray;
	}

	&[disabled] {
		cursor: default;
		opacity: .5;
	}

	&.is-empty {
		background-color: $color__light-gray;
	}

	&.bg-white {
		background-color: #fff;
	}
}

select {
	background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="#d1d1d1" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>') center right no-repeat;
	padding-right: $__input__spacing-default*2;

	&:focus {
		background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 29 14" width="29"><path fill="#222" d="M9.37727 3.625l5.08154 6.93523L19.54036 3.625"/></svg>');
	}
}

select::-ms-expand {
	display: none;
}

textarea {
	min-height: 8rem;
	max-width: 100%;
	padding: $__input__spacing-default/2 $__input__spacing-default/2;
}

label,
legend {
	display: block;
	font-size: $typography__size-5;
	font-weight: $typography__weight-bold;
	margin-bottom: $__input__spacing-default/2;
	text-transform: uppercase;
}

fieldset,
.fieldset {
	border-width: 0;
	margin-left: 0;
	margin-right: 0;
	margin-bottom: $size__spacing-default;
}

.fieldset.row {
	margin-bottom: $__input__spacing-default/2;

	label {
		margin-bottom: 2px;
	}
}

/* Forms: File
-------------------------------------------------- */
input[type='file'] {
	display: none;
}

.file-upload {
	@extend .button;
	@extend .button-gray;
	display: inline-block !important;
	cursor: pointer;
	padding-left: $__input__spacing-default;
	padding-right: $__input__spacing-default;
}


/* Forms: Radio + Checkbox
-------------------------------------------------- */
input[type='checkbox'],
input[type='radio'] {
	display: inline;
}

.radio,
.checkbox {
	width: 100%;
	display: block;
	overflow: hidden;

	input {
		display: none;
	}

	& > span {
		padding: 0;
		position: relative;
		top: 0;
		left: 0;
		width: auto;

		label {
			padding: 0 0 0 $size__spacing-default;
			width: 100%;
			line-height: 1.5;
			text-align: left;
			cursor: pointer;
			float: none; 
			display: block;
			position: relative;
			left: 0;
			top: 0;
		}
	}

	&.large {
		& > span {
			label {
				margin-bottom: 2px;
				padding: 0 0 0 3rem;
				line-height: 3rem;
			}
		}
	}
}

.checkbox input {
	& + label:before {
		margin: 0;
		content: '';
		background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTFCRTE4Q0IxNTc5MTFFNjlCOTU5QjY1QkU5MkYyMDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTFCRTE4Q0MxNTc5MTFFNjlCOTU5QjY1QkU5MkYyMDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MkMxNjBDNjBFMTYxMUU2OUI5NTlCNjVCRTkyRjIwOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBMUJFMThDQTE1NzkxMUU2OUI5NTlCNjVCRTkyRjIwOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuFgne4AAADHSURBVHjaYvj//z8DGdgFiL8BcSM5mlWA+N1/CPhDqmY+IL72HwE6SNHMBMSbkDRvBImRYkArkuYLQMwDEidWcziS5hdALAeTAxFsQGyAR7MhNMRB4DsQWyDLg4j1UMkSLJrFgfghku2R6GoYkEwHgTAkSZDLDiHJNWNzIYiIQFL0E4htoZIzkcRXAjEjLgNAOB9J8Wcg3ofEPwPEXLjCCFc0wcATIJbEF0PIHJAT5yJpBoWNEaEoRhdgBuIV0OgKICaNAAQYAPD/2FJuxgMsAAAAAElFTkSuQmCC");
		background-repeat: no-repeat;
		background-size: 1px;
		background-position: center;
		position: absolute;
		left: 0;
		top: 0;
		background-color: #fff;
		border-width: 1px;
		border-radius: 3px;
		border-style: solid;
		border-color: darken($__border-color, 5%);
		cursor: pointer;
		display: inline-block;
		height: 1.5rem;
		width: 1.5rem;
		text-align: center;
		color: $color__gray;
		transition: all 0.1s linear 0s;
	}

	&:checked + label:before {
		background-color: $color__brand-primary;
		content: '';
		background-size: 10px;
		border-color: $color__brand-primary;
		color: #fff;
		transition: all 0.1s linear 0s;
	}
}

.checkbox.large input {
	& + label:before {
		height: 3rem;
		width: 3rem;
	}

	&:checked + label:before {
		background-size: 15px;
	}
}

.checkbox.medium {
	input {
		& + label:before {
			height: 2rem;
			width: 2rem;
		}

		&:checked + label:before {
			background-size: 10px;
		}
	}

	label {
		padding-left: 3rem;
		height: 2rem;
		display: flex;
		align-items: center;
	}
}

.radio {
	input {
		& + label:before { 
			margin: 0;
			content: '';
			position: absolute;
			left: 0;
			top: 0;
			background-color: transparent;
			border-width: 1px;
			border-style: solid;
			cursor: pointer;
			display: inline-block;
			height: 1.5rem;
			width: 1.5rem;
			text-align: center;
			line-height: 1.5;
			color: $color__gray;
			border-radius: 50%;
			transition: all 0.1s linear 0s;
		}

		&:checked + label:before,
		&[type="radio"]:checked {
			border: 6px solid $color__brand-primary;
			transition: all 0.1s linear 0s;
		}
	}
}

/* Forms: Alerts
-------------------------------------------------- */
.alert {
	padding: $size__spacing-default;
	border-radius: $radius__default;
	background-color: $color__light-gray;

	ul {
		margin-bottom: 0;

		li:last-of-type {
			margin-bottom: 0;
		}
	}

	&.alert-danger {
		background-color: $color__brand-red;
		color: #fff;
	}

	&.alert-success {
		background-color: $color__brand-green;
		color: #fff;
	}
}


/* Forms: States
-------------------------------------------------- */
.disabled label {
	opacity: .25;
	cursor: default !important;
}

.fieldset.success,
.fieldset.has-error,
fieldset.success,
fieldset.has-error {
	.help-message {
		color: $color__brand-red;
		font-weight: $typography__weight-medium;
		font-size: $typography__size-5;
		margin-top: $size__spacing-small/2;
	}
}

.fieldset.success,
fieldset.success {
	input,
	label {
		color: $color__brand-green;
	}

	input,
	select {
		border-color: $color__brand-green;
	}

	.help-message {
		color: $color__brand-green;
	}
}

.fieldset.has-error,
fieldset.has-error {
	input,
	label {
		color: $color__brand-red;
	}

	input,
	select {
		border-color: $color__brand-red;
		background-color: #fff6f5;
	}

	.help-message {
		color: $color__brand-red;
		display: block;
	}
}


/* Utilities
-------------------------------------------------- */
.hidden-labels {
	.fieldset > label,
	fieldset > label {
		display: none;
	}
}

.inline-labels {
	& > .row {
		margin-bottom: $__input__spacing-default/2;
	}

	@include for-tablet-portrait-up {
		.fieldset.row-center label {
			margin-bottom: 0;
		}
	}
}

.description {
	color: $color__silver;
	font-size: $typography__size-6;
	line-height: $typography__line-height-copy;
	margin-top: $size__spacing-small/2;
}

.req {
	position: relative;
	top: 1px;
	color: $color__brand-red;
}

.label-inline {
	display: inline-block;
	font-weight: normal;
	margin-left: .5rem;
}

.append,
.prepend {
	display: flex;

	& input {
		flex: 1;
	}
	& .button,
	& span {
		// @include flex-item-shrink;
	}
	& > span {
		display: flex;
		flex-direction: column;
		justify-content: center;
		font-weight: normal;
		font-size: $typography__size-4;
		padding: 0 .875rem;
		color: $color__silver;
		white-space: nowrap;
		margin-bottom: 0;
		border: $border__width-default solid $__border-color;
	}
}

.prepend {
	& input {
		border-radius: 0 $radius__default $radius__default 0;
	}
	& button {
		margin-right: -1px;
		border-radius: $radius__default 0 0 $radius__default !important;
	}
	& span {
		border-right: none;
		border-radius: $radius__default 0 0 $radius__default;
	}
}

.append {
	& input {
		border-radius: $radius__default 0 0 $radius__default;
	}
	& button {
		margin-left: -1px;
		border-radius: 0 $radius__default $radius__default 0 !important;
	}
	& span {
		border-left: none;
		border-radius: 0 $radius__default $radius__default 0;
	}
}


/* Custom
-------------------------------------------------- */